import{_ as z,r as x,o as L,a as v,c as h,d,e as f,b as o,w as c,f as e,F as k,g as E}from"./index-8199c1df.js";const A={id:"domId"},I={__name:"index",setup(p){const a=x(null),n=x(null),l="3a06b43540da4275be1634ab1a8fd62c";let i="2154800498944640";const r=x(null);let s;const u=()=>{let t=new BimfaceSDKLoaderConfig;t.viewToken=l,BimfaceSDKLoader.load(t,m,b)};L(()=>{u()});const m=t=>{let _=document.getElementById("domId"),g=new Glodon.Bimface.Application.WebApplicationGISConfig;g.domElement=_,n.value=new Glodon.Bimface.Application.WebApplicationGIS(g),a.value=n.value.getViewer(),a.value.addScene(l),a.value.addEventListener(Glodon.Bimface.Viewer.ViewerGISEvent.SceneAdded,function(){r.value=a.value.getLayerManager(),s=n.value.getUIManager(),s.getToolbar("MainToolbar"),y(),w(),S(),C()}),a.value.addEventListener(Glodon.Bimface.Viewer.ViewerGISEvent.LayerAdded,function(M){M.layerId==i&&B()})},b=()=>{console.log("加载失败！")},y=()=>{let t=new Glodon.Bimface.Plugins.SkyBox.SkyBoxManagerConfig;t.viewer=a.value,t.style=Glodon.Bimface.Plugins.SkyBox.SkyBoxStyle.DarkNight,new Glodon.Bimface.Plugins.SkyBox.SkyBoxManager(t)},w=()=>{r.value.getLayer("1").setStyle({template:Glodon.Bimface.Common.ImageStyle.DarkBlue,brightness:.5,saturation:-.4})},B=()=>{r.value.getLayer(i).getComponentManager().overrideColor({all:!0},new Glodon.Web.Graphics.Color(200,200,200,.35)),r.value.getLayer(i).getComponentManager().overrideColor({ids:["10003","10004","10005","10008","10011"]},new Glodon.Web.Graphics.Color(131,206,208,.45)),a.value.render()};x(null);const S=()=>{let t=new Glodon.Bimface.Plugins.Animation.WallEffectConfig;t.viewer=a.value,t.direction={type:"Tangent",reverse:!1},t.duration=2500,t.height=80,t.stretch=!0,t.material=G(),t.path=[{x:-814.1,y:-1219.5,z:0},{x:-323.6,y:-972.7,z:0},{x:326.5,y:-1655.6,z:0},{x:749,y:-2172.3,z:0},{x:505,y:-2292.8,z:0},{x:365,y:-2325.2,z:0},{x:-101.9,y:-2202.1,z:0},{x:-517.7,y:-2235.5,z:0},{x:-723.7,y:-1729,z:0},{x:-814.1,y:-1219.5,z:0}],t.color=new Glodon.Web.Graphics.Color(252,29,29,.8),new Glodon.Bimface.Plugins.Animation.WallEffect(t)},C=()=>{let t=new Glodon.Bimface.Plugins.Animation.RingScanEffectConfig;t.viewer=a.value,t.color=new Glodon.Web.Graphics.Color(252,29,29,1),t.duration=2e3,t.originPosition={x:423,y:-221,z:5},t.radius=250,t.progressive=5,new Glodon.Bimface.Plugins.Animation.RingScanEffect(t)};function G(){let t=new Glodon.Bimface.Plugins.Material.MaterialConfig;return t.viewer=a.value,t.src="https://static.bimface.com/attach/3e8cedfed7a04c8e9cb115ce192e209f_big.png",new Glodon.Bimface.Plugins.Material.Material(t)}return(t,_)=>(v(),h("div",A))}},W=z(I,[["__scopeId","data-v-23e97e8f"]]),P=e("div",{class:"text-white text-xl font-bold"},"过去七日分项用能",-1),V={class:"flex"},D={class:"flex-1"},F={class:"flex-1"},T={class:"flex space-x-5 text-white mt-5"},R=e("div",{class:"text-sm font-medium mb-2"},"当月用电量峰会",-1),$=e("div",{class:"flex items-baseline"},[e("div",{class:"font-semibold text-2xl leading-none"},"1278"),e("div",{class:"text-xs pl-1"},"度")],-1),N=e("div",{class:"text-sm font-medium mb-2"},"当月用水量峰会",-1),K=e("div",{class:"flex items-baseline"},[e("div",{class:"font-semibold text-2xl leading-none"},"1278"),e("div",{class:"text-xs pl-1"},"吨")],-1),j=e("div",{class:"text-white text-xl font-bold"},"一周用电趋势",-1),H={class:"flex"},O={__name:"RightData",setup(p){const a=d({series:[{type:"pie",data:[{name:"收费系统",value:93},{name:"通信系统",value:66},{name:"监控系统",value:52},{name:"供配电系统",value:34},{name:"其他",value:22}],radius:["45%","65%"],insideLabel:{show:!0},outsideLabel:{labelLineEndLength:60,formatter:`{percent}%
{name}`,style:{fontSize:24,fill:"#fff"}}}],color:["#00baff","#3de7c9","#fff","#ffc530","#469f4b"]}),n=d({dataset:{source:[["score","amount","product"],[89.3,58212,"收费系统"],[57.1,78254,"通信系统"],[74.4,41032,"监控系统"],[50.1,12755,"供配电系统"],[89.7,20145,"其他"]]},grid:{containLabel:!0},xAxis:{name:"amount"},yAxis:{type:"category"},visualMap:{orient:"horizontal",left:"center",min:10,max:100,text:["High Score","Low Score"],dimension:0,inRange:{color:["#65B581","#FFCE34","#FD665F"]}},series:[{type:"bar",encode:{x:"amount",y:"product"}}]}),l=d({xAxis:{type:"category",boundaryGap:!1,data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value"},series:[{data:[820,932,901,934,1290,987,867],type:"line",areaStyle:{}}]});return(i,r)=>{const s=f("v-chart"),u=f("dv-border-box8"),m=f("dv-border-box12");return v(),h(k,null,[o(u,{class:"h-auto p-5 bg-blue-300 bg-opacity-20"},{default:c(()=>[P,e("div",V,[e("div",D,[o(s,{option:a,autoresize:"",loading:!1,class:"h-72"},null,8,["option"])]),e("div",F,[o(s,{option:n,autoresize:"",loading:!1,class:"h-72"},null,8,["option"])])])]),_:1}),e("div",T,[o(m,{class:"flex-1 rounded-lg p-3"},{default:c(()=>[R,$]),_:1}),o(m,{class:"flex-1 rounded-lg p-3"},{default:c(()=>[N,K]),_:1})]),o(u,{reverse:!0,class:"h-auto p-5 bg-blue-300 bg-opacity-20 mt-5"},{default:c(()=>[j,e("div",H,[o(s,{option:l,autoresize:"",loading:!1,class:"h-72"},null,8,["option"])])]),_:1})],64)}}},U=e("div",{class:"flex flex-col h-full justify-center items-center"},[e("div",{class:"text-white text-4xl font-semibold"},"园区能耗监测大屏"),e("div",{class:"text-white"},"Energy Consumption Monitoring screen")],-1),q=e("div",{class:"z-20 w-52 absolute left-10 mt-20"},[e("div",{class:"text-white text-5xl font-semibold pl-8"},"1703度"),e("div",{class:"flex items-center mt-3"},[e("svg",{class:"icon text-5xl","aria-hidden":"true"},[e("use",{"xlink:href":"#icon-a-iconyongdianliang"})]),e("div",{class:"flex flex-col opacity-80"},[e("div",{class:"text-white text-xl"},"当日用电量"),e("div",{class:"text-white"},"Power Consumption")])]),e("div",{class:"text-white text-5xl font-semibold pl-8 mt-20"},"143吨"),e("div",{class:"flex items-center mt-3"},[e("svg",{class:"icon text-5xl","aria-hidden":"true"},[e("use",{"xlink:href":"#icon-a-iconyongshuiliang"})]),e("div",{class:"flex flex-col opacity-80"},[e("div",{class:"text-white text-xl"},"当日用水量"),e("div",{class:"text-white"},"Water Consumption")])])],-1),J={class:"z-20 w-[620px] absolute right-0 top-0 h-full py-10 pr-10 bg-gradient-to-r from-transparent to-gray-900"},X={__name:"bim",setup(p){return d({lineWidth:24,showOriginValue:!0,data:[{name:"照明用电",value:13.64},{name:"空调用电",value:27.27},{name:"其它用电",value:62}]}),d({option:{series:[{type:"pie",data:[{name:"收费系统",value:93},{name:"通信系统",value:66},{name:"监控系统",value:52},{name:"供配电系统",value:34},{name:"其他",value:22}],radius:["45%","65%"],insideLabel:{show:!1},outsideLabel:{labelLineEndLength:10,formatter:`{percent}%
{name}`,style:{fontSize:14,fill:"#fff"}}}],color:["#00baff","#3de7c9","#fff","#ffc530","#469f4b"]}}),(a,n)=>{const l=f("dv-border-box1"),i=f("dv-full-screen-container");return v(),E(i,{class:"w-screen h-screen"},{default:c(()=>[o(W,{class:"w-full h-full absolute top-0 left-0 z-10"}),o(l,{ref:"borderRef",class:"z-20 w-96 h-28 mt-10 ml-10",color:["#235fa7","#273d66"]},{default:c(()=>[U]),_:1},512),q,e("div",J,[o(O)])]),_:1})}}};export{X as default};
