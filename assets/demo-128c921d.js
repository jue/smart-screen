import{_ as U,r as L,o as k,a as y,c as b,b as C}from"./index-d5d0389c.js";var x=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function P(f){return f&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f}var I={exports:{}};(function(f,c){(function(A,g){f.exports=g()})(x,function(){function A(e){var s=[];return e.AMapUI&&s.push(g(e.AMapUI)),e.Loca&&s.push(m(e.Loca)),Promise.all(s)}function g(e){return new Promise(function(s,n){var u=[];if(e.plugins)for(var a=0;a<e.plugins.length;a+=1)o.AMapUI.plugins.indexOf(e.plugins[a])==-1&&u.push(e.plugins[a]);if(i.AMapUI===t.failed)n("前次请求 AMapUI 失败");else if(i.AMapUI===t.notload){i.AMapUI=t.loading,o.AMapUI.version=e.version||o.AMapUI.version,a=o.AMapUI.version;var d=document.body||document.head,r=document.createElement("script");r.type="text/javascript",r.src="https://webapi.amap.com/ui/"+a+"/main.js",r.onerror=function(p){i.AMapUI=t.failed,n("请求 AMapUI 失败")},r.onload=function(){if(i.AMapUI=t.loaded,u.length)window.AMapUI.loadUI(u,function(){for(var p=0,M=u.length;p<M;p++){var v=u[p].split("/").slice(-1)[0];window.AMapUI[v]=arguments[p]}for(s();l.AMapUI.length;)l.AMapUI.splice(0,1)[0]()});else for(s();l.AMapUI.length;)l.AMapUI.splice(0,1)[0]()},d.appendChild(r)}else i.AMapUI===t.loaded?e.version&&e.version!==o.AMapUI.version?n("不允许多个版本 AMapUI 混用"):u.length?window.AMapUI.loadUI(u,function(){for(var p=0,M=u.length;p<M;p++){var v=u[p].split("/").slice(-1)[0];window.AMapUI[v]=arguments[p]}s()}):s():e.version&&e.version!==o.AMapUI.version?n("不允许多个版本 AMapUI 混用"):l.AMapUI.push(function(p){p?n(p):u.length?window.AMapUI.loadUI(u,function(){for(var M=0,v=u.length;M<v;M++){var _=u[M].split("/").slice(-1)[0];window.AMapUI[_]=arguments[M]}s()}):s()})})}function m(e){return new Promise(function(s,n){if(i.Loca===t.failed)n("前次请求 Loca 失败");else if(i.Loca===t.notload){i.Loca=t.loading,o.Loca.version=e.version||o.Loca.version;var u=o.Loca.version,a=o.AMap.version.startsWith("2"),d=u.startsWith("2");if(a&&!d||!a&&d)n("JSAPI 与 Loca 版本不对应！！");else{a=o.key,d=document.body||document.head;var r=document.createElement("script");r.type="text/javascript",r.src="https://webapi.amap.com/loca?v="+u+"&key="+a,r.onerror=function(p){i.Loca=t.failed,n("请求 AMapUI 失败")},r.onload=function(){for(i.Loca=t.loaded,s();l.Loca.length;)l.Loca.splice(0,1)[0]()},d.appendChild(r)}}else i.Loca===t.loaded?e.version&&e.version!==o.Loca.version?n("不允许多个版本 Loca 混用"):s():e.version&&e.version!==o.Loca.version?n("不允许多个版本 Loca 混用"):l.Loca.push(function(p){p?n(p):n()})})}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var t;(function(e){e.notload="notload",e.loading="loading",e.loaded="loaded",e.failed="failed"})(t||(t={}));var o={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},i={AMap:t.notload,AMapUI:t.notload,Loca:t.notload},l={AMap:[],AMapUI:[],Loca:[]},w=[],h=function(e){typeof e=="function"&&(i.AMap===t.loaded?e(window.AMap):w.push(e))};return{load:function(e){return new Promise(function(s,n){if(i.AMap==t.failed)n("");else if(i.AMap==t.notload){var u=e.key,a=e.version,d=e.plugins;u?(window.AMap&&location.host!=="lbs.amap.com"&&n("禁止多种API加载方式混用"),o.key=u,o.AMap.version=a||o.AMap.version,o.AMap.plugins=d||o.AMap.plugins,i.AMap=t.loading,a=document.body||document.head,window.___onAPILoaded=function(p){if(delete window.___onAPILoaded,p)i.AMap=t.failed,n(p);else for(i.AMap=t.loaded,A(e).then(function(){s(window.AMap)}).catch(n);w.length;)w.splice(0,1)[0]()},d=document.createElement("script"),d.type="text/javascript",d.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+o.AMap.version+"&key="+u+"&plugin="+o.AMap.plugins.join(","),d.onerror=function(p){i.AMap=t.failed,n(p)},a.appendChild(d)):n("请填写key")}else if(i.AMap==t.loaded)if(e.key&&e.key!==o.key)n("多个不一致的 key");else if(e.version&&e.version!==o.AMap.version)n("不允许多个版本 JSAPI 混用");else{if(u=[],e.plugins)for(a=0;a<e.plugins.length;a+=1)o.AMap.plugins.indexOf(e.plugins[a])==-1&&u.push(e.plugins[a]);u.length?window.AMap.plugin(u,function(){A(e).then(function(){s(window.AMap)}).catch(n)}):A(e).then(function(){s(window.AMap)}).catch(n)}else if(e.key&&e.key!==o.key)n("多个不一致的 key");else if(e.version&&e.version!==o.AMap.version)n("不允许多个版本 JSAPI 混用");else{var r=[];if(e.plugins)for(a=0;a<e.plugins.length;a+=1)o.AMap.plugins.indexOf(e.plugins[a])==-1&&r.push(e.plugins[a]);h(function(){r.length?window.AMap.plugin(r,function(){A(e).then(function(){s(window.AMap)}).catch(n)}):A(e).then(function(){s(window.AMap)}).catch(n)})}})},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,o={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},i={AMap:t.notload,AMapUI:t.notload,Loca:t.notload},l={AMap:[],AMapUI:[],Loca:[]}}}})})(I);var S=I.exports;const j=P(S);const O={class:"w-screen h-screen",id:"map"},E={__name:"index",props:{mapStyle:{type:String,default:"amap://styles/darkblue"},apiConfig:{type:Object,default:()=>({version:"2.0",key:"069445c520672f275b3926268ef953a5",plugins:["AMap.DistrictSearch"]})},areaName:{type:String,default:"西安市"},subdistrict:{type:Number,default:0},extensions:{type:String,default:"all"},level:{type:String,default:"city"},polylineConfig:{type:Object,default:()=>({show:!0,showOuter:!1,strokeColor:"#99ffff",strokeWeight:4})},doubleClickZoom:{type:Boolean,default:!0},center:{type:Array,default:()=>[113.554772,22.367768]},zoom:{type:Number,default:20},zooms:{type:Array,default:()=>[3,18]}},setup(f){const c=f,A=L(null),g=(o=[])=>{const{polylineConfig:i}=c;if(i.show)for(let l=0;l<o.length;l++)new AMap.Polyline({path:o[l],strokeColor:i.strokeColor,strokeWeight:i.strokeWeight,map:A.value})},m=o=>{const i={mapStyle:c.mapStyle,doubleClickZoom:c.doubleClickZoom,center:c.center,zoom:c.zoom,zooms:c.zooms,viewMode:"3D",terrain:!0};new o.DistrictSearch({extensions:"all",subdistrict:0}).search("珠海市",function(w,h){const e=h.districtList[0].boundaries,s=[];for(let n=0;n<e.length;n+=1)s.push([e[n]]);c.polylineConfig.showOuter||(i.mask=s),A.value=new o.Map("map",i),g(e)})},t=()=>{window._AMapSecurityConfig={securityJsCode:"568469f928741cdf911c8101d49ad1d6"},j.load({key:c.apiConfig.key,version:c.apiConfig.version,plugins:c.apiConfig.plugins}).then(o=>{m(o)})};return k(()=>{t()}),(o,i)=>(y(),b("div",O))}},z=U(E,[["__scopeId","data-v-517638f4"]]),J={class:"w-screen h-screen"},B={__name:"demo",setup(f){return(c,A)=>(y(),b("div",J,[C(z)]))}};export{B as default};
